{"version":3,"sources":["../../src/entity/HTTPClient.js"],"names":["HTTPClient","constructor","apiSecret","process","env","FLIP_API_SECRET_KEY","basicToken","Buffer","from","toString","header","Object","DisbursementPayload","FIELD_HEADER_AUTHORIZATION","FIELD_HEADER_CONTENT_TYPE","options","baseURL","FLIP_API_BASE_URL","headers","client","axios","create","get","endpoint","post","data","querystring","stringify"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEe,MAAMA,UAAN,CAAiB;AAC9BC,EAAAA,WAAW,GAAG;AACZ,UAAMC,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,mBAA9B;AACA,UAAMC,UAAU,GACd,WAAWC,MAAM,CAACC,IAAP,CAAa,GAAEN,SAAU,GAAzB,EAA6BO,QAA7B,CAAsC,QAAtC,CADb;AAGA,UAAMC,MAAM,GAAGC,MAAM,EAArB;AACAD,IAAAA,MAAM,CAACE,6BAAoBC,0BAArB,CAAN,GAAyDP,UAAzD;AACAI,IAAAA,MAAM,CAACE,6BAAoBE,yBAArB,CAAN,GACE,mCADF;AAGA,UAAMC,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAEb,OAAO,CAACC,GAAR,CAAYa,iBADP;AAEdC,MAAAA,OAAO,EAAER;AAFK,KAAhB;AAKA,SAAKS,MAAL,GAAcC,eAAMC,MAAN,CAAaN,OAAb,CAAd;AACD;;AAEQ,QAAHO,GAAG,CAACC,QAAD,EAAW;AAClB,WAAO,MAAM,KAAKJ,MAAL,CAAYG,GAAZ,CAAgBC,QAAhB,CAAb;AACD;;AAES,QAAJC,IAAI,CAACD,QAAD,EAAWE,IAAX,EAAiB;AACzB,WAAO,MAAM,KAAKN,MAAL,CAAYK,IAAZ,CAAiBD,QAAjB,EAA2BG,qBAAYC,SAAZ,CAAsBF,IAAtB,CAA3B,CAAb;AACD;;AAzB6B","sourcesContent":["import \"dotenv/config\";\nimport axios from \"axios\";\nimport DisbursementPayload from \"~src/const/DisbursementPayload\";\nimport querystring from \"querystring\";\n\nexport default class HTTPClient {\n  constructor() {\n    const apiSecret = process.env.FLIP_API_SECRET_KEY;\n    const basicToken =\n      \"Basic \" + Buffer.from(`${apiSecret}:`).toString(\"base64\");\n\n    const header = Object();\n    header[DisbursementPayload.FIELD_HEADER_AUTHORIZATION] = basicToken;\n    header[DisbursementPayload.FIELD_HEADER_CONTENT_TYPE] =\n      \"application/x-www-form-urlencoded\";\n\n    const options = {\n      baseURL: process.env.FLIP_API_BASE_URL,\n      headers: header,\n    };\n\n    this.client = axios.create(options);\n  }\n\n  async get(endpoint) {\n    return await this.client.get(endpoint);\n  }\n\n  async post(endpoint, data) {\n    return await this.client.post(endpoint, querystring.stringify(data));\n  }\n}\n"],"file":"HTTPClient.js"}