{"version":3,"sources":["../../src/repository/DisbursementHttpRepository.js"],"names":["DisbursementHttpRepository","constructor","client","HTTPClient","actionEndpoint","process","env","FLIP_API_DISBURSEMENT_ACTION","sendDisbursement","data","response","Object","apiResponse","post","DisbursementResponse","ATTRIBUTE_DATA","ATTRIBUTE_RESPONSE_STATUS","status","ATTRIBUTE_RESPONSE_STATUS_TEXT","statusText","error","getDisbursementStatus","transactionId","get"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,MAAMA,0BAAN,CAAiC;AAC9CC,EAAAA,WAAW,GAAG;AACZ,SAAKC,MAAL,GAAc,IAAIC,mBAAJ,EAAd;AACA,SAAKC,cAAL,GAAsBC,OAAO,CAACC,GAAR,CAAYC,4BAAlC;AACD;;AAEqB,QAAhBC,gBAAgB,CAACC,IAAD,EAAO;AAC3B,UAAMC,QAAQ,GAAGC,MAAM,EAAvB;;AAEA,QAAI;AACF,YAAMC,WAAW,GAAG,MAAM,KAAKV,MAAL,CAAYW,IAAZ,CAAiB,KAAKT,cAAtB,EAAsCK,IAAtC,CAA1B;AAEAC,MAAAA,QAAQ,CAACI,8BAAqBC,cAAtB,CAAR,GAAgDH,WAAW,CAACH,IAA5D;AACAC,MAAAA,QAAQ,CAACI,8BAAqBE,yBAAtB,CAAR,GACEJ,WAAW,CAACK,MADd;AAEAP,MAAAA,QAAQ,CAACI,8BAAqBI,8BAAtB,CAAR,GACEN,WAAW,CAACO,UADd;AAGA,aAAOT,QAAP;AACD,KAVD,CAUE,OAAOU,KAAP,EAAc;AACdV,MAAAA,QAAQ,CAACI,8BAAqBC,cAAtB,CAAR,GAAgDK,KAAK,CAACV,QAAN,CAAeD,IAA/D;AACAC,MAAAA,QAAQ,CAACI,8BAAqBE,yBAAtB,CAAR,GACEI,KAAK,CAACV,QAAN,CAAeO,MADjB;AAEAP,MAAAA,QAAQ,CAACI,8BAAqBI,8BAAtB,CAAR,GACEE,KAAK,CAACV,QAAN,CAAeS,UADjB;AAED;;AACD,WAAOT,QAAP;AACD;;AAE0B,QAArBW,qBAAqB,CAACC,aAAD,EAAgB;AACzC,UAAMZ,QAAQ,GAAGC,MAAM,EAAvB;;AAEA,QAAI;AACF,YAAMC,WAAW,GAAG,MAAM,KAAKV,MAAL,CAAYqB,GAAZ,CACvB,GAAE,KAAKnB,cAAe,IAAGkB,aAAc,EADhB,CAA1B;AAIAZ,MAAAA,QAAQ,CAACI,8BAAqBC,cAAtB,CAAR,GAAgDH,WAAW,CAACH,IAA5D;AACAC,MAAAA,QAAQ,CAACI,8BAAqBE,yBAAtB,CAAR,GACEJ,WAAW,CAACK,MADd;AAEAP,MAAAA,QAAQ,CAACI,8BAAqBI,8BAAtB,CAAR,GACEN,WAAW,CAACO,UADd;AAGA,aAAOT,QAAP;AACD,KAZD,CAYE,OAAOU,KAAP,EAAc;AACdV,MAAAA,QAAQ,CAACI,8BAAqBC,cAAtB,CAAR,GAAgDK,KAAK,CAACV,QAAN,CAAeD,IAA/D;AACAC,MAAAA,QAAQ,CAACI,8BAAqBE,yBAAtB,CAAR,GACEI,KAAK,CAACV,QAAN,CAAeO,MADjB;AAEAP,MAAAA,QAAQ,CAACI,8BAAqBI,8BAAtB,CAAR,GACEE,KAAK,CAACV,QAAN,CAAeS,UADjB;AAED;;AACD,WAAOT,QAAP;AACD;;AApD6C","sourcesContent":["import DisbursementResponse from \"~src/const/DisbursementResponse\";\nimport HTTPClient from \"~src/entity/HTTPClient\";\n\nexport default class DisbursementHttpRepository {\n  constructor() {\n    this.client = new HTTPClient();\n    this.actionEndpoint = process.env.FLIP_API_DISBURSEMENT_ACTION;\n  }\n\n  async sendDisbursement(data) {\n    const response = Object();\n\n    try {\n      const apiResponse = await this.client.post(this.actionEndpoint, data);\n\n      response[DisbursementResponse.ATTRIBUTE_DATA] = apiResponse.data;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS] =\n        apiResponse.status;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS_TEXT] =\n        apiResponse.statusText;\n\n      return response;\n    } catch (error) {\n      response[DisbursementResponse.ATTRIBUTE_DATA] = error.response.data;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS] =\n        error.response.status;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS_TEXT] =\n        error.response.statusText;\n    }\n    return response;\n  }\n\n  async getDisbursementStatus(transactionId) {\n    const response = Object();\n\n    try {\n      const apiResponse = await this.client.get(\n        `${this.actionEndpoint}/${transactionId}`\n      );\n\n      response[DisbursementResponse.ATTRIBUTE_DATA] = apiResponse.data;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS] =\n        apiResponse.status;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS_TEXT] =\n        apiResponse.statusText;\n\n      return response;\n    } catch (error) {\n      response[DisbursementResponse.ATTRIBUTE_DATA] = error.response.data;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS] =\n        error.response.status;\n      response[DisbursementResponse.ATTRIBUTE_RESPONSE_STATUS_TEXT] =\n        error.response.statusText;\n    }\n    return response;\n  }\n}\n"],"file":"DisbursementHttpRepository.js"}