{"version":3,"sources":["../../src/repository/BalanceRepository.js"],"names":["BalanceRepository","constructor","db","readOneByUserId","userId","docRef","collection","Balance","COLLECTION","where","ATTRIBUTE_USER_ID","get","docs","id","data","createOne","fields","add","updateOne","doc","update"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,MAAMA,iBAAN,CAAwB;AACrCC,EAAAA,WAAW,GAAG;AACZ,SAAKC,EAAL,GAAUA,iBAAV;AACD;;AAEoB,QAAfC,eAAe,CAACC,MAAD,EAAS;AAC5B,UAAMC,MAAM,GAAG,CACb,MAAM,KAAKH,EAAL,CACHI,UADG,CACQC,iBAAQC,UADhB,EAEHC,KAFG,CAEGF,iBAAQG,iBAFX,EAE8B,IAF9B,EAEoCN,MAFpC,EAGHO,GAHG,EADO,EAKbC,IALa,CAKR,CALQ,CAAf;AAOA,UAAMC,EAAE,GAAGR,MAAM,CAACQ,EAAlB;AACA,UAAMC,IAAI,GAAGT,MAAM,CAACS,IAAP,EAAb;;AAEA,QAAIA,IAAJ,EAAU;AACR,aAAO;AAAED,QAAAA,EAAF;AAAM,WAAGC;AAAT,OAAP;AACD;;AAED,WAAO,IAAP;AACD;;AAEc,QAATC,SAAS,CAACC,MAAD,EAAS;AACtB,UAAMX,MAAM,GAAG,MAAM,CACnB,MAAM,KAAKH,EAAL,CAAQI,UAAR,CAAmBC,iBAAQC,UAA3B,EAAuCS,GAAvC,CAA2CD,MAA3C,CADa,EAEnBL,GAFmB,EAArB;AAIA,UAAME,EAAE,GAAGR,MAAM,CAACQ,EAAlB;AACA,UAAMC,IAAI,GAAGT,MAAM,CAACS,IAAP,EAAb;AAEA,WAAO;AAAED,MAAAA,EAAF;AAAM,SAAGC;AAAT,KAAP;AACD;;AAEc,QAATI,SAAS,CAACL,EAAD,EAAKG,MAAL,EAAa;AAC1B,WAAO,MAAM,KAAKd,EAAL,CAAQI,UAAR,CAAmBC,iBAAQC,UAA3B,EAAuCW,GAAvC,CAA2CN,EAA3C,EAA+CO,MAA/C,CAAsDJ,MAAtD,CAAb;AACD;;AApCoC","sourcesContent":["import Balance from \"~src/const/Balance\";\nimport db from \"~src/entity/Firebase\";\n\nexport default class BalanceRepository {\n  constructor() {\n    this.db = db;\n  }\n\n  async readOneByUserId(userId) {\n    const docRef = (\n      await this.db\n        .collection(Balance.COLLECTION)\n        .where(Balance.ATTRIBUTE_USER_ID, \"==\", userId)\n        .get()\n    ).docs[0];\n\n    const id = docRef.id;\n    const data = docRef.data();\n\n    if (data) {\n      return { id, ...data };\n    }\n\n    return null;\n  }\n\n  async createOne(fields) {\n    const docRef = await (\n      await this.db.collection(Balance.COLLECTION).add(fields)\n    ).get();\n\n    const id = docRef.id;\n    const data = docRef.data();\n\n    return { id, ...data };\n  }\n\n  async updateOne(id, fields) {\n    return await this.db.collection(Balance.COLLECTION).doc(id).update(fields);\n  }\n}\n"],"file":"BalanceRepository.js"}